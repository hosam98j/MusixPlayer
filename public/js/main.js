!function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n),t.d(n,"song",(function(){return r})),t.d(n,"playButton",(function(){return c})),t.d(n,"songTitle",(function(){return a})),t.d(n,"content",(function(){return m})),t.d(n,"songs",(function(){return y})),t.d(n,"icons",(function(){return p})),t.d(n,"songIndex",(function(){return g})),t.d(n,"counter",(function(){return h})),t.d(n,"gitName",(function(){return w}));var o=function(){console.log("run"),r.paused?(r.play(),c.children[0].setAttribute("src",p.pause)):(r.pause(),c.children[0].setAttribute("src",p.play))};const r=new Audio,u=document.getElementById("prev"),c=document.getElementById("play"),i=document.getElementById("next"),l=document.querySelector(".fill"),s=document.querySelector(".current"),d=document.querySelector(".duration"),a=document.querySelector(".song-title"),f=document.querySelector(".volume"),m=document.querySelector(".content"),y=[],p={play:"/icons/002-play-button.svg",pause:"/icons/003-music-player.svg"};let g=null;!async function(){const e=await fetch("/music");(await e.json()).songs.map(e=>y.push("/music/"+e)),g=h%y.length,r.src=y[g],y.map(e=>{m.children[1].innerHTML+=`<div>${e}</div>`});for(let e=1;e<=y.length;e++)m.children[0].innerHTML+=`<div>${e}</div>`;for(let e=0;e<m.children[1].children.length;e++)m.children[1].children[e].onclick=()=>{r.src=y[e],r.play(),a.textContent=w(r.src)}}();let h=0;function v(e){e?h++:h--,g=h%y.length,r.src=y[g],h<0&&(h=y.length-1),r.play()}function b(e){return e<=9?"0"+e:e}function w(e){y[g];return e.substr(e.lastIndexOf("/")+1)}function S(){const e=r.volume/1*100;f.children[0].style.width=e+"%"}function x(){console.log("show"),f.classList.add("show"),setTimeout(M,2e3)}function M(){console.log("hide"),f.classList.remove("show")}u.onclick=()=>v(!1),c.onclick=o,i.onclick=()=>v(!0),r.addEventListener("timeupdate",()=>{!function(){if(r.duration){const e=Math.ceil(r.duration),n=e%60,t=`${b(String(e/60).split(".")[0])}:${b(n)}`;d.innerHTML=t}}(),function(){const e=Math.floor(r.currentTime),n=Math.floor(e/60),t=e%60,o=`${b(n)}:${b(t)}`;s.innerHTML=o}(),function(){const e=r.duration,n=r.currentTime/e*100+"%";l.style.width=n}(),a.textContent=w(r.src)}),window.onkeydown=e=>{"ArrowRight"==e.key&&v(!0),"ArrowLeft"==e.key&&v(!1),"Space"==e.code&&o(),"ArrowUp"==e.key&&(r.volume<1?r.volume+=.25:console.log("volume max"),S(),x()),"ArrowDown"==e.key&&(r.volume>0?r.volume+=-.25:console.log("volume min"),S(),x())},S()}]);